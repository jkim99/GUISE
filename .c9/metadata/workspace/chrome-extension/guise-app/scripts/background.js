{"filter":false,"title":"background.js","tooltip":"/chrome-extension/guise-app/scripts/background.js","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":59,"column":0},"action":"remove","lines":["var myAudio = new Audio();","myAudio.loop = false;","const NUM_OF_FILES = 60;","const VOLUME = 0.5;","","myAudio.volume = VOLUME;","","function pickSong() {","    var min = 0;","    index = Math.floor(Math.random() * (NUM_OF_FILES - min + 1) + min);","    return '/music/' + index + '.mp3';","}","","function playSong() {","    myAudio.pause();","    myAudio.src = pickSong();","    myAudio.currentTime = 0;","    myAudio.play();","    changeIcon();","}","","function pauseSong() {","    myAudio.pause();","    changeIcon();","}","","function changeIcon() {","    // On and want to change to play symbol","    if (!myAudio.paused) {","        chrome.browserAction.setIcon({","            path: {","                \"38\": \"/images/icon38play.png\"","            }","        });","    }","    // Off and want to change to default","    else {","        chrome.browserAction.setIcon({","            path: {","                \"38\": \"/images/icon38.png\"","            }","        });","    }","}","","chrome.browserAction.onClicked.addListener(function(tab) {","    // Not on and clicked","    if (myAudio.paused) {","        playSong();","    }","    // On and clicked","    else {","        pauseSong();","    }","})","","myAudio.addEventListener(\"ended\", playSong());","","changeIcon();",""],"id":2},{"start":{"row":0,"column":0},"end":{"row":59,"column":0},"action":"insert","lines":["var myAudio = new Audio();","myAudio.loop = false;","const NUM_OF_FILES = 60;","const VOLUME = 0.5;","","myAudio.volume = VOLUME;","","function pickSong() {","    var min = 0;","    index = Math.floor(Math.random() * (NUM_OF_FILES - min + 1) + min);","    return '/music/' + index + '.mp3';","}","","function playSong() {","    myAudio.pause();","    myAudio.src = pickSong();","    myAudio.currentTime = 0;","    myAudio.play();","    changeIcon();","}","","function pauseSong() {","    myAudio.pause();","    changeIcon();","}","","function changeIcon() {","    // On and want to change to play symbol","    if (!myAudio.paused) {","        chrome.browserAction.setIcon({","            path: {","                \"38\": \"/images/icon48.png\"","            }","        });","    }","    // Off and want to change to default","    else {","        chrome.browserAction.setIcon({","            path: {","                \"38\": \"/images/icon48.png\"","            }","        });","    }","}","","chrome.browserAction.onClicked.addListener(function(tab) {","    // Not on and clicked","    if (myAudio.paused) {","        playSong();","    }","    // On and clicked","    else {","        pauseSong();","    }","})","","myAudio.addEventListener(\"ended\", playSong());","","changeIcon();",""]}]]},"ace":{"folds":[],"scrolltop":111,"scrollleft":0,"selection":{"start":{"row":19,"column":1},"end":{"row":19,"column":1},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1495335139302,"hash":"bf0f173eff7b816e935a826e3ed36fbdf4e8bb98"}